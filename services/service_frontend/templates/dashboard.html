<!DOCTYPE html>
<html>
<head>
    <title>ALFR3D Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <nav>
        <a href="/dashboard">Dashboard</a>
        <a href="/control">Control</a>
    </nav>

    <!-- Dash app will be inserted here -->
    <div id="dash-container">
        <div class="page">
            <h2 class="page-title">ALFR3D: Container Dashboard</h2>
            <div class="canvas">
                <!-- Container nodes will be dynamically added here -->
                <div class="node-card" style="left: 80px; top: 40px; width: 240px; height: 120px;">
                    <div class="node-title">daemon</div>
                    <div class="node-health" style="background-color: #27ae60;"></div>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <div class="metric-name">CPU</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 25%;"></div>
                            </div>
                            <div class="metric-value">25%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">MEM</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 40%;"></div>
                            </div>
                            <div class="metric-value">40%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">ERR</div>
                            <div class="metric-pill">0</div>
                        </div>
                    </div>
                </div>

                <div class="node-card" style="left: 400px; top: 40px; width: 240px; height: 120px;">
                    <div class="node-title">environment</div>
                    <div class="node-health" style="background-color: #27ae60;"></div>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <div class="metric-name">CPU</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 15%;"></div>
                            </div>
                            <div class="metric-value">15%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">MEM</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 30%;"></div>
                            </div>
                            <div class="metric-value">30%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">ERR</div>
                            <div class="metric-pill">0</div>
                        </div>
                    </div>
                </div>

                <div class="node-card" style="left: 720px; top: 40px; width: 240px; height: 120px;">
                    <div class="node-title">frontend</div>
                    <div class="node-health" style="background-color: #27ae60;"></div>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <div class="metric-name">CPU</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 35%;"></div>
                            </div>
                            <div class="metric-value">35%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">MEM</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 45%;"></div>
                            </div>
                            <div class="metric-value">45%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">ERR</div>
                            <div class="metric-pill">0</div>
                        </div>
                    </div>
                </div>

                <div class="node-card" style="left: 80px; top: 280px; width: 240px; height: 120px;">
                    <div class="node-title">device</div>
                    <div class="node-health" style="background-color: #27ae60;"></div>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <div class="metric-name">CPU</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 20%;"></div>
                            </div>
                            <div class="metric-value">20%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">MEM</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 35%;"></div>
                            </div>
                            <div class="metric-value">35%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">ERR</div>
                            <div class="metric-pill">0</div>
                        </div>
                    </div>
                </div>

                <div class="node-card" style="left: 400px; top: 280px; width: 240px; height: 120px;">
                    <div class="node-title">MySQL</div>
                    <div class="node-health" style="background-color: #27ae60;"></div>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <div class="metric-name">CONN</div>
                            <div class="metric-pill">5</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">TBL</div>
                            <div class="metric-pill">8</div>
                        </div>
                    </div>
                </div>

                <div class="node-card" style="left: 720px; top: 280px; width: 240px; height: 120px;">
                    <div class="node-title">user</div>
                    <div class="node-health" style="background-color: #27ae60;"></div>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <div class="metric-name">CPU</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 18%;"></div>
                            </div>
                            <div class="metric-value">18%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">MEM</div>
                            <div class="metric-bar-bg">
                                <div class="metric-bar-fill" style="width: 28%;"></div>
                            </div>
                            <div class="metric-value">28%</div>
                        </div>
                        <div class="metric-row">
                            <div class="metric-name">ERR</div>
                            <div class="metric-pill">0</div>
                        </div>
                    </div>
                </div>

                <!-- Animated Kafka topic connection lines -->
                <svg class="connection-lines" width="100%" height="100%" viewBox="0 0 1000 650">
                    <defs>
                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#61dafb;stop-opacity:0.8" />
                            <stop offset="50%" style="stop-color:#61dafb;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#61dafb;stop-opacity:0.8" />
                        </linearGradient>
                    </defs>

                    <!-- speak: daemon -> environment (horizontal) -->
                    <path d="M 200 100 L 520 100" class="connection-line speak-line" />

                    <!-- google: daemon -> frontend (horizontal) -->
                    <path d="M 200 100 L 840 100" class="connection-line google-line" />

                    <!-- user: daemon -> user (horizontal then vertical) -->
                    <path d="M 200 100 L 360 100 L 360 340 L 840 340" class="connection-line user-line" />

                    <!-- device: frontend -> user (vertical then horizontal) -->
                    <path d="M 840 100 L 840 220 L 720 220 L 720 340 L 840 340" class="connection-line device-line" />

                    <!-- device_daemon: frontend -> daemon (horizontal) -->
                    <path d="M 840 100 L 200 100" class="connection-line device-daemon-line" />

                    <!-- environment: environment -> daemon (horizontal) -->
                    <path d="M 520 100 L 200 100" class="connection-line environment-line" />
                </svg>
            </div>
            <div class="legend">
                <span>Legend:</span>
                <span class="legend-pill up"></span> <span>Healthy</span>
                <span class="legend-pill warn"></span> <span>Warning</span>
                <span class="legend-pill down"></span> <span>Down</span>
            </div>
        </div>
    </div>

    <script>
        // Simple auto-refresh for demo
        setTimeout(function() {
            location.reload();
        }, 5000);
    </script>
</body>
</html>