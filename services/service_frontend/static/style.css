:root{
  --bg: #0f0f10;
  --card: #111318;
  --muted: #9aa7b2;
  --primary: #61dafb;
  --good: #27ae60;
  --warn: #f1c40f;
  --bad: #e74c3c;
  --white: #e8eef2;
}
body { background: var(--bg); color: var(--white); font-family: Inter, Roboto, Arial, sans-serif; margin:0; padding:0; }
.page { padding: 18px; max-width: 1200px; margin: 0 auto; }
.page-title { margin: 6px 0 16px 0; color: var(--primary); font-weight:700; }

.user-canvas { position: relative; width: 1000px; height: 200px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.03); overflow: visible; margin: 0 auto 20px auto; }
.user-cluster { position: absolute; width: 900px; height: 160px; left: 50px; top: 20px; }
.cluster-title { font-weight: 700; font-size: 16px; color: var(--primary); margin-bottom: 10px; }
.user-card { position: absolute; background: linear-gradient(180deg, #141619, #0f1416); border-radius: 6px; border: 1px solid rgba(255,255,255,0.04); padding: 8px; width: 120px; height: 50px; box-shadow: 0 4px 16px rgba(0,0,0,0.5); color: var(--white); display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0; transform: scale(0.8); transition: all 0.5s ease; }
.user-card.show { opacity: 1; transform: scale(1); }
.user-username { font-weight: 700; font-size: 16px; }
.user-device { font-size: 10px; color: var(--muted); }
.canvas { position: relative; width: 1000px; height: 750px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.03); overflow: visible; margin: 0 auto; }

.node-card {
  position: absolute;
  background: linear-gradient(180deg, #141619, #0f1416);
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.04);
  padding: 10px 12px;
  box-shadow: 0 6px 26px rgba(0,0,0,0.5);
  color: var(--white);
  display: flex;
  flex-direction: column;
  gap: 6px;
  z-index: 2;
}
.node-title { font-weight:700; font-size: 14px; }
.node-health { width: 14px; height: 14px; border-radius: 50%; position: absolute; right: 12px; top: 12px; }
.metrics-list { margin-top: 4px; display:flex; flex-direction:column; gap:6px; }

.metric-row { display:flex; align-items:center; gap:8px; }
.metric-name { width: 36px; font-size: 12px; color: var(--muted); }
.metric-value { width: 44px; text-align:right; font-weight:600; font-size:12px; color:var(--white); }
.metric-bar-bg { flex:1; height: 10px; background: rgba(255,255,255,0.04); border-radius: 6px; overflow:hidden; }
.metric-bar-fill { height: 100%; background: linear-gradient(90deg, rgba(97,218,251,0.95), rgba(97,218,251,0.6)); border-radius: 6px; transition: width 0.6s ease; }
.metric-pill { background: rgba(255,255,255,0.04); padding: 4px 8px; border-radius: 999px; font-weight:700; font-size:12px; color:var(--muted); }
.metric-users { font-size: 10px; color: var(--white); max-height: 40px; overflow-y: auto; }

.legend { margin-top: 12px; display:flex; gap:8px; align-items:center; color:var(--muted); }
.legend-pill { display:inline-block; width:12px; height:12px; border-radius:3px; margin-left:6px; }
.legend-pill.up { background: var(--good); }
.legend-pill.warn { background: var(--warn); }
.legend-pill.down { background: var(--bad); }

.kafka-legend { margin-top: 12px; display:flex; gap:12px; align-items:center; color:var(--muted); flex-wrap: wrap; }
.kafka-legend-item { display:flex; align-items:center; gap:4px; }
.kafka-line-sample { width: 20px; height: 2px; background: #61dafb; }
.kafka-line-sample.speak-line { background: #ff6b6b; }
.kafka-line-sample.google-line { background: #4ecdc4; }
.kafka-line-sample.user-line { background: #45b7d1; }
.kafka-line-sample.frontend-user-line { background: #9b59b6; }
.kafka-line-sample.device-daemon-line { background: #f0932b; }
.kafka-line-sample.environment-line { background: #eb4d4b; }
.kafka-line-sample.device-line { background: #f9ca24; }
.kafka-line-sample.device-user-line { background: #e91e63; }

.connection-lines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.connection-line {
  fill: none;
  stroke-width: 3;
  stroke-dasharray: 10 6;
  animation: dashmove 2s linear infinite;
  filter: drop-shadow(0 0 8px rgba(97,218,251,0.8));
  opacity: 0.9;
}

.connection-line.speak-line { stroke: #ff6b6b; animation-delay: 0s; }
.connection-line.google-line { stroke: #4ecdc4; animation-delay: 0.3s; }
.connection-line.user-line { stroke: #45b7d1; animation-delay: 0.6s; }
.connection-line.frontend-user-line { stroke: #9b59b6; animation-delay: 0.9s; }
.connection-line.device-daemon-line { stroke: #f0932b; animation-delay: 1.2s; }
.connection-line.environment-line { stroke: #eb4d4b; animation-delay: 1.5s; }
.connection-line.device-line { stroke: #f9ca24; animation-delay: 1.8s; }
.connection-line.device-user-line { stroke: #e91e63; animation-delay: 2.1s; }
.connection-line.mysql-daemon-line { stroke: #2ecc71; stroke-dasharray: 10 20; animation-delay: 2.4s; }
.connection-line.mysql-device-line { stroke: #e67e22; stroke-dasharray: 10 20; animation-delay: 2.7s; }
.connection-line.mysql-environment-line { stroke: #9b59b6; stroke-dasharray: 10 20; animation-delay: 3.0s; }
.connection-line.mysql-user-line { stroke: #34495e; stroke-dasharray: 10 20; animation-delay: 3.3s; }
.connection-line.mysql-frontend-line { stroke: #f39c12; stroke-dasharray: 10 20; animation-delay: 3.6s; }

@keyframes dashmove {
  0% { stroke-dashoffset: 0; }
  100% { stroke-dashoffset: -60; }
}

/* Navigation styling */
nav { background-color: var(--card); padding: 10px; border-radius: 8px; margin-bottom: 20px; }
nav a { margin-right: 20px; text-decoration: none; color: var(--primary); font-weight: 600; }
nav a:hover { color: var(--white); }